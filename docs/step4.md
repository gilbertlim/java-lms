# 수강 신청(요구사항 변경)

## 요구사항

변경된 기능 요구사항을 반영하되, 다음 요구사항을 지키며 점진적으로 리팩터링한다.
DB 테이블이 변경될 때도 스트랭글러 패턴을 적용한다.

- **컴파일 에러 최소화**
- **단위 테스트 실패 최소화**
- **기존 테이블 데이터 제거 금지**

## 변경된 비즈니스 로직

- [x] 수강 신청
    - as-is: 강의 수강신청은 강의 상태가 모집중일 때만 가능하다.
    - to-be: 강의가 진행 중인 상태에서도 수강신청이 가능해야 한다.
    - 강의 진행 상태(준비중, 진행중, 종료)와 모집 상태(비모집중, 모집중) 값 분리 필요
- [x] 강의 커버 이미지
    - as-is: 강의는 강의 커버 이미지 정보를 가진다.
    - to-be: 강의는 하나 이상의 커버 이미지를 가질 수 있다.
    - CoverImage 등록 시 CoverImage 컬렉션을 인자로 받을 수 있게 처리
    - 1개 등록 시에도 List로 래핑하여 입력받으면 됨
- [ ] 수강 신청 승인 기능 (신규 기능)
    - as-is: 별도 제한 없이 모든 사람이 수강 가능하다.
    - to-be: 선발된 인원만 수강 가능해야 한다.
    - 강사는 수강 신청한 사람 중 선발된 인원에 대해서만 수강 승인이 가능해야 한다.
    - 강사는 수강 신청한 사람 중 선발되지 않은 사람의 수강을 취소할 수 있어야 한다.
    - 수강 신청 -> 선발 과정 -> 승인 과정 -> 최종 등록